<ion-header>
  <ion-toolbar color="white">
    <ion-buttons slot="start">
      <ion-back-button text="" color="primary"></ion-back-button>
    </ion-buttons>
    <ion-title color="primary">Finalizar Pedido</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div class="details">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-text class="ion-text-wrap" color="primary">
            <p class="title">{{store.store_name}}</p>
          </ion-text>
        </ion-col>
      </ion-row>
      <ion-list lines="full">
        <ion-item color="white" *ngFor="let item of items;">
          <ion-grid>
            <ion-row>
              <ion-col size="1" class="ion-align-self-center">
                <ion-text class="ion-text-wrap" color="primary">
                  <p>{{item.item_quantity}}x</p>
                </ion-text>
              </ion-col>
              <ion-col size="8" class="ion-align-self-center">
                <ion-text class="ion-text-wrap">
                  <p>{{item.item_name}}</p>
                </ion-text>
              </ion-col>
              <ion-col size="3" class="ion-align-self-center ion-text-end">
                <ion-text class="ion-text-wrap" color="primary">
                  <p>{{item.item_totalPrice}}</p>
                </ion-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item *ngIf="showMore">
          <ion-grid>
            <ion-row class="ion-text-end">
              <ion-col class="ion-align-self-center">
                <ion-text color="medium">
                  <p class="subtitle">E mais...</p>
                </ion-text>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item routerLink="/tabs/cart" detail="false" lines="none">
          <ion-grid>
            <ion-row class="ion-text-center">
              <ion-col class="ion-align-self-center">
                <ion-button expand="block" color="primary">
                  <p>Visualizar carrinho</p>
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-list>
    </ion-grid>
  </div>

  <div class="bill">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-text class="ion-text-wrap" color="primary">
            <p class="title">Conta</p>
          </ion-text>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-grid>
              <ion-row>
                <ion-col class="ion-text-start">
                  <ion-text color="primary">
                    <p class="medium">Subtotal</p>
                  </ion-text>
                </ion-col>
                <ion-col class="ion-text-end">
                  <ion-text color="medium">
                    <p class="medium">{{order.totalCartFormat}}</p>
                  </ion-text>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col class="ion-text-start">
                  <ion-text color="primary">
                    <p class="medium">Taxa de entrega</p>
                  </ion-text>
                </ion-col>
                <ion-col class="ion-text-end" *ngIf="store.store_deliverytax != 0">
                  <ion-text color="medium">
                    <p class="medium">{{order.deliveryTax}}</p>
                  </ion-text>
                </ion-col>
                <ion-col class="ion-text-end" *ngIf="store.store_deliverytax == 0">
                  <ion-text color="success">
                    <p class="medium">Gr√°tis</p>
                  </ion-text>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item lines="none">
            <ion-grid>
              <ion-row>
                <ion-col class="ion-text-start">
                  <ion-text color="primary">
                    <p class="total">Total</p>
                  </ion-text>
                </ion-col>
                <ion-col class="ion-text-end">
                  <ion-text color="primary">
                    <p class="total">{{order.totalOrder}}</p>
                  </ion-text>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <div class="payment">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-text class="ion-text-wrap" color="primary">
            <p class="title">Pagamento</p>
          </ion-text>
        </ion-col>
      </ion-row>
       <ion-item (click)="presentModal()">
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-text>
                <p class="subtitle">CPF na nota</p>
              </ion-text>
            </ion-col>
            <ion-col *ngIf="option" class="ion-text-end">
              <ion-text color="medium">
                <p class="cpf">{{cpf}}</p>
              </ion-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item lines="none">
        <ion-grid>
          <ion-row>
            <ion-col>
              <ion-label>
                <ion-text>
                  <p class="subtitle">Pague pelo app</p>
                </ion-text>
                <ion-text color="medium">
                  <p>MASTERCARD &bull;&bull;&bull;&bull; 3460</p>
                </ion-text>
              </ion-label>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-grid>
  </div>

  <div class="location">
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-text class="ion-text-wrap" color="primary">
            <p class="title">Retirada</p>
          </ion-text>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item lines="none">
            <ion-label>
              <ion-text>
                <p class="subtitle">Retirar em:</p>
              </ion-text>
              <ion-text class="ion-text-wrap">
                <p class="is-bold">{{store.store_address}}, {{store.store_number}}</p>
                <p class="is-bold">{{store.store_neighbourhood}} - {{store.store_city}}/{{store.store_province}}</p>
              </ion-text>
            </ion-label>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  

</ion-content>

<ion-footer>
    <ion-toolbar color="primary" (click)="finish()">
      <ion-title>Realizar pedido</ion-title>
    </ion-toolbar>
  </ion-footer>
